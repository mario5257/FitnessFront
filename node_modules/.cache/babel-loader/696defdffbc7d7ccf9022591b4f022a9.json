{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Desktop/School/Fitness-FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/user/Desktop/School/Fitness-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/Desktop/School/Fitness-FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Router,Link,Route,Routes,useNavigate,useParams}from\"react-router-dom\";import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyRoutines=function MyRoutines(props){var username=props.username;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userRoutines=_useState2[0],setUserRoutines=_useState2[1];var fetchUsersRoutines=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://fitnesstrac-kr.herokuapp.com/api/users/\".concat(username,\"/routines\"),{headers:{'Content-Type':'application/json'}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;setUserRoutines(result.routines);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchUsersRoutines(_x){return _ref.apply(this,arguments);};}();useEffect(function(){fetchUsersRoutines(username);},[userRoutines]);var deleteUserRoutine=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,token){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://fitnesstrac-kr.herokuapp.com/api/routines/\".concat(id),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function deleteUserRoutine(_x2,_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Routines\"}),/*#__PURE__*/_jsx(\"ul\",{children:userRoutines.map(function(routine){return/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:routine.isPublic?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:routine.name}),/*#__PURE__*/_jsxs(\"h4\",{title:routine.goal,children:[\"Whats your goal?: \",routine.goal]}),/*#__PURE__*/_jsx(\"h4\",{title:routine.name,children:\"Is post public?: active\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex justify-content-center flex-column\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"edit\",className:\"btn btn-secondary\",onClick:function onClick(event){event.preventDefault();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Routine Name\",placeholder:\"Routine Name\",className:\"bg-light\",onChange:function onChange(event){return setName(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Goal\",placeholder:\"Goal\",className:\"bg-light\",onChange:function onChange(event){return setGoal(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Make Public?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"btn btn-white\",onChange:function onChange(){isPublic?setIsPublic(false):setIsPublic(true);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Routine\",className:\"btn btn-light\"})]});}}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"delete\",className:\"btn btn-secondary\",id:routine.id,onClick:function onClick(event){event.preventDefault();deleteUserRoutine(routine.id,token);}})]})]},routine.id):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:routine.name}),/*#__PURE__*/_jsxs(\"h4\",{title:routine.goal,children:[\"Whats your goal?: \",routine.goal]}),/*#__PURE__*/_jsx(\"h4\",{title:routine.name,children:\"Is post public?: Routine not public\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"edit\",className:\"btn btn-secondary\",onClick:function onClick(event){event.preventDefault();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Routine Name\",placeholder:\"Routine Name\",className:\"bg-light\",onChange:function onChange(event){return setName(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"goal\",className:\"bg-light\",placeholder:\"Goal\",onChange:function onChange(event){return setGoal(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Make Public?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"btn btn-white\",onChange:function onChange(){isPublic?setIsPublic(false):setIsPublic(true);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Routine\"})]});}}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"delete\",className:\"btn btn-secondary\",id:routine.id,onClick:function onClick(event){event.preventDefault();deleteUserRoutine(routine.id,token);}})]})]},routine.id)},routine.id);})})]});};export default MyRoutines;","map":{"version":3,"names":["Router","Link","Route","Routes","useNavigate","useParams","useEffect","useState","MyRoutines","props","username","userRoutines","setUserRoutines","fetchUsersRoutines","fetch","headers","response","json","result","routines","console","error","message","deleteUserRoutine","id","token","method","map","routine","isPublic","name","goal","event","preventDefault","setName","target","value","setGoal","setIsPublic"],"sources":["/Users/user/Desktop/School/Fitness-FrontEnd/src/components/MyRoutines.js"],"sourcesContent":["import { Router, Link, Route, Routes, useNavigate, useParams } from \"react-router-dom\";\nimport { useEffect, useState } from 'react'\n\nconst MyRoutines = (props) => {\n    const username = props.username\n    const [ userRoutines, setUserRoutines ] = useState([]);\n\n    const fetchUsersRoutines = async (username) => {\n        try {\n            const response = await fetch(`http://fitnesstrac-kr.herokuapp.com/api/users/${username}/routines`, {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            })\n            const result = await response.json()\n            setUserRoutines(result.routines)\n        } catch (err) {\n            console.error(err.message)\n        }\n    }\n    useEffect(() => {\n        fetchUsersRoutines(username);\n    }, [userRoutines])\n\n    const deleteUserRoutine = async (id, token) => {\n        try {\n            await fetch(`http://fitnesstrac-kr.herokuapp.com/api/routines/${id}`, {\n                method: \"DELETE\",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n            })\n        } catch (err) {\n            console.error(err.message)\n        }\n    }\n\nreturn (<>\n    <h2>My Routines</h2>\n                <ul>\n                    {\n                        userRoutines.map((routine) => {\n                            return <div key={routine.id} className='row mb-3'>\n                                {\n                                    routine.isPublic ? <div key={routine.id}>\n                                        <h3>{routine.name}</h3>\n                                        <h4 title={routine.goal}>Whats your goal?: {routine.goal}</h4>\n                                        <h4 title={routine.name}>Is post public?: active</h4>\n\n                                        <form className=\"d-flex justify-content-center flex-column\" >\n                                            <input type='submit' value='edit' className=\"btn btn-secondary\" onClick={(event) => {\n                                                event.preventDefault()\n                                                return <>\n\n                                                    <input type='text' id='Routine Name' placeholder='Routine Name' className=\"bg-light\" onChange={(event) => setName(event.target.value)}></input>\n                                                    <input type='text' id='Goal' placeholder='Goal' className=\"bg-light\" onChange={(event) => setGoal(event.target.value)}></input>\n                                                    <label>Make Public?</label>\n                                                    <input type='checkbox' className=\"btn btn-white\" onChange={() => {\n                                                        isPublic ? setIsPublic(false)\n                                                            : setIsPublic(true);\n                                                    }}></input>\n                                                    <input type='submit' value='Create Routine' className=\"btn btn-light\"></input>\n                                                </>\n                                            }}>\n                                            </input>\n                                            <input type='button' value='delete' className=\"btn btn-secondary\" id={routine.id} onClick={(event) => {\n                                                event.preventDefault()\n                                                deleteUserRoutine(routine.id, token)\n                                            }}></input>\n                                        </form>\n                                    </div> : <div key={routine.id}>\n                                        <h3>{routine.name}</h3>\n                                        <h4 title={routine.goal}>Whats your goal?: {routine.goal}</h4>\n                                        <h4 title={routine.name}>Is post public?: Routine not public</h4>\n\n                                        <form>\n                                            <input type='submit' value='edit' className=\"btn btn-secondary\" onClick={(event) => {\n                                                event.preventDefault()\n                                                return <>\n\n                                                    <input type='text' id='Routine Name' placeholder='Routine Name' className=\"bg-light\" onChange={(event) => setName(event.target.value)}></input>\n                                                    <input type='text' id='goal' className=\"bg-light\" placeholder='Goal' onChange={(event) => setGoal(event.target.value)}></input>\n                                                    <label>Make Public?</label>\n                                                    <input type='checkbox' className=\"btn btn-white\" onChange={() => {\n                                                        isPublic ? setIsPublic(false)\n                                                            : setIsPublic(true);\n                                                    }}></input>\n                                                    <input type='submit' value='Create Routine'></input>\n                                                </>\n                                            }}>\n                                            </input>\n                                            <input type='button' value='delete' className=\"btn btn-secondary\" id={routine.id} onClick={(event) => {\n                                                event.preventDefault()\n                                                deleteUserRoutine(routine.id, token)\n                                            }}></input>\n                                        </form>\n                                    </div>\n                                }</div>\n                        })\n\n                    }\n\n                </ul>\n    </>\n)\n\n}\n\n\n\nexport default MyRoutines"],"mappings":"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"},"metadata":{},"sourceType":"module"}