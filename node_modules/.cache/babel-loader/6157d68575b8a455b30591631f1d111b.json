{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Desktop/School/Fitness-FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/user/Desktop/School/Fitness-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/Desktop/School/Fitness-FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Router,Link,Route,Routes,useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmedPassword=_useState6[0],setConfirmedPassword=_useState6[1];var registerUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(name,pass){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(confirmedPassword===password)){_context.next=18;break;}_context.prev=1;_context.next=4;return fetch('http://fitnesstrac-kr.herokuapp.com/api/users/register',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:name,password:pass})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:result=_context.sent;alert(result.message);setToken(result.token);return _context.abrupt(\"return\",result);case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 16:_context.next=19;break;case 18:alert(\"Oops passwords dont match\");case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function registerUser(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex justify-content-center flex-column\",onSubmit:function onSubmit(event){event.preventDefault();registerUser(username,password);event.target.reset();},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",onChange:function onChange(event){setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",minLength:\"8\",onChange:function onChange(event){setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",minLength:\"8\",onChange:function onChange(event){setConfirmedPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Account\"})]}),/*#__PURE__*/_jsx(Link,{to:'/login',className:\"btn btn-danger\",children:\"Ready to log in?\"})]});};export default Register;","map":{"version":3,"names":["useEffect","useState","Router","Link","Route","Routes","useNavigate","useParams","Register","username","setUsername","password","setPassword","confirmedPassword","setConfirmedPassword","registerUser","name","pass","fetch","method","headers","body","JSON","stringify","response","json","result","alert","message","setToken","token","console","error","event","preventDefault","target","reset","value"],"sources":["/Users/user/Desktop/School/Fitness-FrontEnd/src/components/Register.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { Router, Link, Route, Routes, useNavigate, useParams} from \"react-router-dom\";\n\nconst Register = () => {\n        const [username, setUsername] = useState('')\n        const [password, setPassword] = useState('')\n        const [confirmedPassword, setConfirmedPassword] = useState('')\n        \n\n    const registerUser = async (name, pass) => {\n        if(confirmedPassword === password) {\n        try{\n    const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/register', {\n                    method: \"POST\",\n                    headers: {\n                    'Content-Type': 'application/json'\n                        },\n                    body: JSON.stringify({\n                                username: name,\n                                password: pass\n        })\n    })\n        const result = await response.json();\n        alert(result.message);\n        setToken(result.token);\n        return result;\n        } catch(err) {\n            console.error(err);\n        }\n    } else {\n        alert(\"Oops passwords dont match\");\n    }\n}\n\n\n    return (\n        <>\n        <form className=\"d-flex justify-content-center flex-column\" onSubmit= { (event) =>{\n            event.preventDefault()\n            registerUser(username, password)\n            event.target.reset()\n\n            }\n        }>\n            <label htmlFor='username'>Username: </label>\n            <input type='text' id='username' onChange={(event) => {\n                setUsername(event.target.value)\n            }\n            }></input><br/>\n            <label htmlFor='password'>Password: </label>\n            <input type='password' id='password' minLength='8' onChange={(event) => {\n                setPassword(event.target.value)\n            }\n            }></input><br/>\n            <label htmlFor='confirmPassword'>Confirm password: </label>\n            <input type='password' id='confirmPassword' minLength='8' onChange={(event) => {\n                setConfirmedPassword(event.target.value)\n            }}></input><br/>\n            <input type='submit' value='Create Account'></input>\n        </form>\n        <Link to={'/login'} className='btn btn-danger'>Ready to log in?</Link>\n        </>\n    )\n\n}\n\nexport default Register"],"mappings":"mZAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,MAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,MAAM,CAAEC,WAAW,CAAEC,SAAS,KAAO,kBAAkB,CAAC,6IAEtF,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACf,cAAgCP,QAAQ,CAAC,EAAE,CAAC,wCAArCQ,QAAQ,eAAEC,WAAW,eAC5B,eAAgCT,QAAQ,CAAC,EAAE,CAAC,yCAArCU,QAAQ,eAAEC,WAAW,eAC5B,eAAkDX,QAAQ,CAAC,EAAE,CAAC,yCAAvDY,iBAAiB,eAAEC,oBAAoB,eAGlD,GAAMC,aAAY,4FAAG,iBAAOC,IAAI,CAAEC,IAAI,6IAC/BJ,iBAAiB,GAAKF,QAAQ,iEAEdO,MAAK,CAAC,wDAAwD,CAAE,CACvEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACT,cAAc,CAAE,kBACZ,CAAC,CACLC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACTd,QAAQ,CAAEO,IAAI,CACdL,QAAQ,CAAEM,IAClC,CAAC,CACL,CAAC,CAAC,QATIO,QAAQ,qCAUWA,SAAQ,CAACC,IAAI,EAAE,QAA9BC,MAAM,eACZC,KAAK,CAACD,MAAM,CAACE,OAAO,CAAC,CACrBC,QAAQ,CAACH,MAAM,CAACI,KAAK,CAAC,CAAC,gCAChBJ,MAAM,4DAETK,OAAO,CAACC,KAAK,aAAK,CAAC,uCAGvBL,KAAK,CAAC,2BAA2B,CAAC,CAAC,qEAE1C,kBAvBSZ,aAAY,gDAuBrB,CAGG,mBACI,wCACA,cAAM,SAAS,CAAC,2CAA2C,CAAC,QAAQ,CAAI,kBAACkB,KAAK,CAAI,CAC9EA,KAAK,CAACC,cAAc,EAAE,CACtBnB,YAAY,CAACN,QAAQ,CAAEE,QAAQ,CAAC,CAChCsB,KAAK,CAACE,MAAM,CAACC,KAAK,EAAE,CAEpB,CACH,wBACG,cAAO,OAAO,CAAC,UAAU,wBAAmB,cAC5C,cAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAE,kBAACH,KAAK,CAAK,CAClDvB,WAAW,CAACuB,KAAK,CAACE,MAAM,CAACE,KAAK,CAAC,CACnC,CACC,EAAS,2BAAK,cACf,cAAO,OAAO,CAAC,UAAU,wBAAmB,cAC5C,cAAO,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAE,kBAACJ,KAAK,CAAK,CACpErB,WAAW,CAACqB,KAAK,CAACE,MAAM,CAACE,KAAK,CAAC,CACnC,CACC,EAAS,2BAAK,cACf,cAAO,OAAO,CAAC,iBAAiB,gCAA2B,cAC3D,cAAO,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAE,kBAACJ,KAAK,CAAK,CAC3EnB,oBAAoB,CAACmB,KAAK,CAACE,MAAM,CAACE,KAAK,CAAC,CAC5C,CAAE,EAAS,2BAAK,cAChB,cAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,gBAAgB,EAAS,GACjD,cACP,KAAC,IAAI,EAAC,EAAE,CAAE,QAAS,CAAC,SAAS,CAAC,gBAAgB,8BAAwB,GACnE,CAGX,CAAC,CAED,cAAe7B,SAAQ"},"metadata":{},"sourceType":"module"}